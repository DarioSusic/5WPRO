(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,a,t){},107:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(26),c=t.n(l),o=t(9),i=(t(77),t(22)),u=t(11),s=t(15),m=t.n(s),d=t(25),p=t.n(d),E=t(62),h=t.n(E),f=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=h.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:a,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),t)}},g=function(e){e?p.a.defaults.headers.common["x-auth-token"]=e:delete p.a.defaults.headers.common["x-auth-token"]},b=function(){return function(e){var a;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&g(localStorage.token),t.prev=1,t.next=4,m.a.awrap(p.a.get("/api/login"));case 4:a=t.sent,e({type:"USER_LOADED",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:"AUTH_ERROR"});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},v=t(112),y=t(113),w=t(41),O=t(43),S=Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"CLEAR_PROFILE"}),e({type:"LOGOUT"})}}})((function(e){var a=e.auth,t=a.isAuthenticated,l=a.loading,c=e.logout,o=r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/profiles"},"Profile")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/dashboard"},"Dashboard")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{onClick:c,href:"#!"},"Logout")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/cart"},r.a.createElement(w.a,{className:"fa-lg",icon:O.a})))),i=r.a.createElement(v.a,{className:"ml-auto"},r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/contact"},"Contact")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/register"},"Register")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/login"},"Login")),r.a.createElement(v.a.Item,null,r.a.createElement(v.a.Link,{href:"/cart"},r.a.createElement(w.a,{className:"fa-lg",icon:O.a}))));return r.a.createElement(y.a,{bg:"dark",variant:"dark"},r.a.createElement(y.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",src:"#",width:"30",height:"30",className:"d-inline-block align-top"})," ","5WPro"),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},!l&&r.a.createElement(n.Fragment,null,t?o:i)))})),L=t(31),C=function(){return r.a.createElement(L.a,null,r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(6).jpg?text=First slide&bg=373940",alt:"First slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"First slide label"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))),r.a.createElement(L.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"https://mdbootstrap.com/img/Photos/Slides/img%20(33).jpg?text=First slide&bg=373940",alt:"First slide"}),r.a.createElement(L.a.Caption,null,r.a.createElement("h3",null,"First slide label"),r.a.createElement("p",null,"Nulla vitae elit libero, a pharetra augue mollis interdum."))))},I=t(29),k=t(6),A=t(36),N=t(111),j=t(110),R=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:f,register:function(e){var a=e.name,t=e.email,n=e.password;return function(e){var r,l,c,o;return m.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r={headers:{"Content-Type":"application/json"}},l=JSON.stringify({name:a,email:t,password:n}),i.prev=2,i.next=5,m.a.awrap(p.a.post("/api/users",l,r));case 5:c=i.sent,e({type:"REGISTER_SUCCESS",payload:c.data}),e(b()),i.next=15;break;case 10:i.prev=10,i.t0=i.catch(2),(o=i.t0.response.data.errors)&&o.forEach((function(a){return e(f(a.msg,"danger"))})),e({type:"REGISTER_FAIL"});case 15:case"end":return i.stop()}}),null,null,[[2,10]])}}})((function(e){var a=e.setAlert,t=e.register,l=e.isAuthenticated,c=Object(n.useState)({name:"",email:"",password:"",password2:""}),u=Object(A.a)(c,2),s=u[0],d=u[1],p=s.name,E=s.email,h=s.password,f=s.password2,g=function(e){d(Object(k.a)({},s,Object(I.a)({},e.target.name,e.target.value)))};return l?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign Up"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Create Your Account"),r.a.createElement(N.a,{onSubmit:function(e){return function(e){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),h!==f?a("Passwords do not match","danger"):t({name:p,email:E,password:h});case 2:case"end":return n.stop()}}))}(e)}},r.a.createElement(N.a.Group,{controlId:"formGridName"},r.a.createElement(N.a.Label,null,"Name and Surname"),r.a.createElement(N.a.Control,{value:p,name:"name",onChange:function(e){return g(e)},type:"text",required:!0,placeholder:"Enter your name and surname"})),r.a.createElement(N.a.Group,{controlId:"formGridEmail"},r.a.createElement(N.a.Label,null,"Email"),r.a.createElement(N.a.Control,{value:E,name:"email",onChange:function(e){return g(e)},type:"email",placeholder:"Enter email",required:!0})),r.a.createElement(N.a.Group,{controlId:"formGridPassword"},r.a.createElement(N.a.Label,null,"Password"),r.a.createElement(N.a.Control,{value:h,name:"password",onChange:function(e){return g(e)},type:"password",required:!0,placeholder:"Password"})),r.a.createElement(N.a.Group,{controlId:"formGridPassword"},r.a.createElement(N.a.Label,null,"Confirm Password"),r.a.createElement(N.a.Control,{value:f,name:"password2",onChange:function(e){return g(e)},type:"password",required:!0,placeholder:"Confirm Password"})),r.a.createElement(j.a,{variant:"primary",value:"Register",type:"submit"},"Submit")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(o.b,{to:"/login"},"Sign In")))})),x=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,a){return function(t){var n,r,l,c;return m.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:a}),o.prev=2,o.next=5,m.a.awrap(p.a.post("/api/login",r,n));case 5:l=o.sent,t({type:"LOGIN_SUCCESS",payload:l.data}),t(b()),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(2),(c=o.t0.response.data.errors)&&c.forEach((function(e){return t(f(e.msg,"danger"))})),t({type:"LOGIN_FAIL"});case 15:case"end":return o.stop()}}),null,null,[[2,10]])}}})((function(e){var a=e.login,t=e.isAuthenticated,l=Object(n.useState)({email:"",password:""}),c=Object(A.a)(l,2),u=c[0],s=c[1],d=u.email,p=u.password,E=function(e){s(Object(k.a)({},u,Object(I.a)({},e.target.name,e.target.value)))};return t?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Login to your Account"),r.a.createElement(N.a,{onSubmit:function(e){return function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a(d,p);case 2:case"end":return t.stop()}}))}(e)}},r.a.createElement(N.a.Group,{controlId:"formGridEmail"},r.a.createElement(N.a.Label,null,"Email"),r.a.createElement(N.a.Control,{type:"email",name:"email",value:d,onChange:function(e){return E(e)},placeholder:"Enter email"})),r.a.createElement(N.a.Group,{controlId:"formGridPassword"},r.a.createElement(N.a.Label,null,"Password"),r.a.createElement(N.a.Control,{type:"password",name:"password",value:p,onChange:function(e){return E(e)},placeholder:"Password"})),r.a.createElement(j.a,{variant:"primary",type:"submit"},"Submit")),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(o.b,{to:"/register"},"Sign Up")))})),T=t(114),G=Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var a=e.alerts;return null!==a&&a.length>0&&a.map((function(e){return r.a.createElement(T.a,{key:e.id,variant:e.alertType},e.msg)}))})),P=function(e){return r.a.createElement("div",null,"Dashboard")},_=function(){return r.a.createElement("div",null,"Contact Page")},F=function(){return r.a.createElement("div",null,"Profile Page")},U=function(){return r.a.createElement("div",null,"This is Cart page")},D=function(){return r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound-404"},r.a.createElement("h1",null,"Oops!"),r.a.createElement("h2",null,"404 - The Page cannot be found")),r.a.createElement("a",null,r.a.createElement(o.c,{to:"/"},"Go TO Homepage"))))},q=t(71),J=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var a=e.component,t=e.auth,n=t.isAuthenticated,l=t.loading,c=Object(q.a)(e,["component","auth"]);return r.a.createElement(i.b,Object.assign({},c,{render:function(e){return n||l?r.a.createElement(a,e):r.a.createElement(i.a,{to:"/login"})}}))})),W=function(){return r.a.createElement("section",{className:"container"},r.a.createElement(G,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/register",component:R}),r.a.createElement(i.b,{exact:!0,path:"/login",component:x}),r.a.createElement(i.b,{exact:!0,path:"/contact",component:_}),r.a.createElement(i.b,{exact:!0,path:"/cart",component:U}),r.a.createElement(J,{exact:!0,path:"/dashboard",component:P}),r.a.createElement(J,{exact:!0,path:"/profiles",component:F}),r.a.createElement(i.b,{component:D})))},B=t(19),H=t(69),M=t(70),V=t(37),Y=[],$={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},z=Object(B.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"SET_ALERT":return[].concat(Object(V.a)(e),[a.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case"USER_LOADED":return Object(k.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(k.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(k.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}}}),K=[M.a],Q=Object(B.createStore)(z,{},Object(H.composeWithDevTools)(B.applyMiddleware.apply(void 0,K)));t(105);localStorage.token&&g(localStorage.token);var X=function(){return Object(n.useEffect)((function(){Q.dispatch(b())}),[]),r.a.createElement(u.a,{store:Q},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(S,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:C}),r.a.createElement(i.b,{component:W})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(106);c.a.render(r.a.createElement(o.a,null,r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,a,t){e.exports=t(107)},77:function(e,a,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.08d91324.chunk.js.map